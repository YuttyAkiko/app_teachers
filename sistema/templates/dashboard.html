{% extends 'base_dash.html' %}

{% block content %}
<div class="d-flex justify-content-between mb-2">
  <h3>Lista de Turmas</h3>
  <a href="/cadastro" class="btn btn-primary">Cadastrar Turma</a>
</div>
{% with messages = get_flashed_messages() %}
{% if messages %}
  {% for message in messages %}
  <div class="alert alert-success alert-dismissable " role="alert">
    {{ message }}
  </div>
  {% endfor %}
{% endif %}
{% endwith %}

<table class="table table-hover">
  <thead>
    <tr>
      <th scope="col">Número da Turma</th>
      <th scope="col">Nome</th>
      <th scope="col">Ação</th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
    {% for row in Turma %}
    <tr>
      <td>{{ row[0] }}</td>
      <td>{{ row[1] }}</td>
      <td>
        <button class="btn btn-danger btn-sm" data-bs-toggle="modal" data-bs-target="#deleteModal" data-bs-classname="{{ row[1] }}" data-bs-classid="{{ row[0] }}">
          Deletar
        </button>
      </td>
      <td><a href="{{ url_for('activities', id_turma=row[0]) }}" class="btn btn-success btn-sm">Ver Atividades</a></td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
